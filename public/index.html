<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>What If?</title>
    <link rel="stylesheet" href="./style/style.css">

    <!-- Tangle -->
    <script type="text/javascript" src="Tangle.js"></script>

    <link rel="stylesheet" href="TangleKit/TangleKit.css" type="text/css">
    <script type="text/javascript" src="TangleKit/mootools.js"></script>
    <script type="text/javascript" src="TangleKit/sprintf.js"></script>
    <script type="text/javascript" src="TangleKit/BVTouchable.js"></script>
    <script type="text/javascript" src="TangleKit/TangleKit.js"></script>

    <!-- example -->
    <script type="text/javascript">
      
     
        function setUpTangle () {
     
            var element = document.getElementById("example");
            var tangle = new Tangle(element, {
                initialize: function () {
                    this.speed = 60;
                    this.distance = 60;
                    this.time = 60;
                    this.wantedTime = 20;  
                    this.neededSpeed = 60;
                    this.speedLimit = 60;
                    this.speedLimitDifference = Math.abs(this.neededSpeed - this.speed);
                
                    this.destinationTimeDifference = Math.abs(this.time - this.wantedTime);

                    this.ticketProbability = 10;
                    this.ticketPrice = 300;

                    this.wagePerHour = 60;
                    this.wagePerMinute = 1;

                    this.workTimeForTicketPerMinute = (this.ticketPrice / this.wagePerMinute);
                },
                update: function () {
                    this.time = (this.distance / this.speed).toFixed(2) * 60;
                    //this.distance = this.speed * (this.time/60).toFixed(2);
                    //this.speed = (this.distance / this.time).toFixed(2) * 60;
                    this.neededSpeed = (this.distance / this.wantedTime).toFixed(2) *60;
                    this.speedLimitDifference = Math.abs(this.speed - this.speedLimit);
                    
                    this.destinationTimeDifference = Math.abs(this.time - this.wantedTime);


                    this.wagePerMinute = (this.wagePerHour / 60).toFixed(2);
                    this.workTimeForTicketPerMinute = (this.ticketPrice / this.wagePerMinute).toFixed(0);

                }
                
            });
        }

        function addTime(x){
            var now = new Date();
            var nowAfterTime = new Date(now);
            nowAfterTime.setMinutes(now.getMinutes()+x);
           document.getElementById("nowAfter").innerHTML = nowAfterTime.toLocaleTimeString();

        }

    </script>
</head>

<body onload="setUpTangle(); addTime(5);">

    <h1>What If?</h1>

    <p id="example">
        If you drive at <span    data-var="speed" data-step="5"
        class="TKAdjustableNumber" data-min="1" data-max="120" > mph</span>  
        and your destination is within <span   data-var="distance" class="TKAdjustableNumber" data-min="1"  data-max="1000"> miles</span>,
        you
        will reach your destination in <span class="nonDraggables" data-var="time"  > minutes</span>.<!--  -- at  <span class="nonDraggables" id="nowAfter"></span>. -->
   
   
        <br></br>
        If your speed limit is  <span   data-var="speedLimit"   data-step="5" class="TKAdjustableNumber" data-min="1" data-max="120" > mph</span> and you want to reach in   
        <span   data-var="wantedTime" class="TKAdjustableNumber" data-min="1" data-max="600" > minutes</span> , you need to drive at 
        <span class="nonDraggables" data-var="neededSpeed"   > mph</span>.
    Being over  <span class="nonDraggables" data-var="speedLimitDifference"  > mph</span>.
    There is about <span   data-var="ticketProbability" class="TKAdjustableNumber" data-min="0" data-max="100" >% </span>chance
        of getting a speed ticket, worth $<span  data-var="ticketPrice"  data-step="5"  data-min="0" data-max="5000" >  </span>.
  
        <br></br>
        <br></br>

        <img src="./data/ticket.png" alt="ticket">  
        <br></br>
        <br></br>

        That being said, if you earn   <span   data-var="wagePerHour" class="TKAdjustableNumber" data-min="1" data-max="300" >$/hr</span>, which is  
        <span class="nonDraggables" data-var="wagePerMinute"   >$/min</span>, you will need to work
        <span class="nonDraggables" data-var="workTimeForTicketPerMinute"> minutes</span> to pay for the ticket.

        Or, you can take the  <span class="nonDraggables" data-var="ticketProbability"  >% </span> risk 
        of getting a <class="nonDraggables">$<span data-var="ticketPrice"  > </span></class> speed ticket and save <span class="nonDraggables" data-var="destinationTimeDifference" > minutes</span>.
        
    

    
    </p> 

 
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="/__/firebase/7.16.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="/__/firebase/7.16.1/firebase-analytics.js"></script>

<!-- Initialize Firebase -->
<script src="/__/firebase/init.js"></script>

</body>
</html>
